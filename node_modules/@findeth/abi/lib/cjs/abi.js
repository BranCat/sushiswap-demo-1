"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.decode = exports.encodeWithIdentifier = exports.encode = void 0;

var _identifier = require("./identifier");

var _array = require("./parsers/array");

var _buffer = require("./utils/buffer");

const encode = (input, values) => {
  const types = input.map(type => {
    if (typeof type === 'string') {
      return type;
    }

    return type.type;
  });
  return (0, _array.pack)(Buffer.alloc(0), values, types);
};

exports.encode = encode;

const encodeWithIdentifier = (contractFunction, values) => {
  const identifier = Buffer.from((0, _identifier.getIdentifier)(contractFunction), 'hex');
  const encoded = encode(contractFunction.inputs, values);
  return (0, _buffer.concat)(identifier, encoded);
};

exports.encodeWithIdentifier = encodeWithIdentifier;

const decode = (input, buffer) => {
  const types = input.map(type => {
    if (typeof type === 'string') {
      return type;
    }

    return type.type;
  });
  return (0, _array.unpack)(buffer, types);
};

exports.decode = decode;
//# sourceMappingURL=abi.js.map